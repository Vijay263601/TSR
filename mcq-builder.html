<!DOCTYPE html>
<html>
<body>

<h2>MCQ Builder</h2>

<input id="examId" readonly><br>
<textarea id="q" placeholder="Question"></textarea><br>
<input id="a" placeholder="Option A"><br>
<input id="b" placeholder="Option B"><br>
<input id="c" placeholder="Option C"><br>
<input id="d" placeholder="Option D"><br>

<select id="correct">
  <option value="">Correct</option>
  <option>A</option><option>B</option>
  <option>C</option><option>D</option>
</select><br>

<button onclick="add()">Add Question</button>
<p id="msg"></p>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbxYWR5EYzUh6zyYsrKT7fP9PULQmReOOj69mqkOqz3SktwOtFzLAKxyygRbAfGdota3mg/exec";
examId.value = localStorage.getItem("EXAM_ID");

function add(){
  fetch(API_URL,{
    method:"POST",
    body:JSON.stringify({
      type:"ADD_QUESTION",
      examId:examId.value,
      qid:"Q_"+Date.now(),
      question:q.value,
      a:a.value,b:b.value,c:c.value,d:d.value,
      correct:correct.value
    })
  }).then(r=>r.json()).then(()=>{
    msg.textContent="Question added";
    q.value=a.value=b.value=c.value=d.value="";
    correct.value="";
  });
}
</script>

</body>
</html>
